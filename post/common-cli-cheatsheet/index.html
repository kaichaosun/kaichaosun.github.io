<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Kaichao Sun"><meta name=description content="kaichao's blog"><meta name=generator content="Hugo 0.62.2"><title>Cheatsheet for Common Usage CLI</title><link rel="shortcut icon" href=https://kaichaosun.github.io/images/favicon.ico><link rel=stylesheet href=https://kaichaosun.github.io/css/style.css><link rel=stylesheet href=https://kaichaosun.github.io/css/highlight.css><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css><meta property="og:title" content="Cheatsheet for Common Usage CLI"><meta property="og:description" content="Curl Post JSON curl -i -d '{&#34;id&#34;: &#34;111111&#34;,&#34;date&#34;: &#34;2018-04-27T00:00:00+10:00&#34;,&#34;des&#34;: &#34;test&#34;}]' -H &#34;Content-Type: application/json&#34; -X POST https://endpoint curl -i -d '{&#34;a&#34;:&#34;1&#34;,&#34;b&#34;:&#34;2&#34;}' -H &#34;Content-Type: application/json&#34; -X POST https://endpoint Database MySQL SHOW VARIABLES; SELECT FROM_UNIXTIME(1510289234); SELECT NOW(); SELECT UNIX_TIMESTAMP(); MongoDB mongod --dbpath ~/data/mongodb Zip / tar zip filename.zip file1 file2 tar -czvf name-of-archive.tar.gz /path/to/directory-or-file  -c: Create an archive. -z: Compress the archive with gzip. -v: Display progress in the terminal while creating the archive, also known as “verbose” mode."><meta property="og:type" content="article"><meta property="og:url" content="https://kaichaosun.github.io/post/common-cli-cheatsheet/"><meta property="article:published_time" content="2019-01-02T00:00:00+00:00"><meta property="article:modified_time" content="2019-01-02T00:00:00+00:00"><meta itemprop=name content="Cheatsheet for Common Usage CLI"><meta itemprop=description content="Curl Post JSON curl -i -d '{&#34;id&#34;: &#34;111111&#34;,&#34;date&#34;: &#34;2018-04-27T00:00:00+10:00&#34;,&#34;des&#34;: &#34;test&#34;}]' -H &#34;Content-Type: application/json&#34; -X POST https://endpoint curl -i -d '{&#34;a&#34;:&#34;1&#34;,&#34;b&#34;:&#34;2&#34;}' -H &#34;Content-Type: application/json&#34; -X POST https://endpoint Database MySQL SHOW VARIABLES; SELECT FROM_UNIXTIME(1510289234); SELECT NOW(); SELECT UNIX_TIMESTAMP(); MongoDB mongod --dbpath ~/data/mongodb Zip / tar zip filename.zip file1 file2 tar -czvf name-of-archive.tar.gz /path/to/directory-or-file  -c: Create an archive. -z: Compress the archive with gzip. -v: Display progress in the terminal while creating the archive, also known as “verbose” mode."><meta itemprop=datePublished content="2019-01-02T00:00:00+00:00"><meta itemprop=dateModified content="2019-01-02T00:00:00+00:00"><meta itemprop=wordCount content="284"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Cheatsheet for Common Usage CLI"><meta name=twitter:description content="Curl Post JSON curl -i -d '{&#34;id&#34;: &#34;111111&#34;,&#34;date&#34;: &#34;2018-04-27T00:00:00+10:00&#34;,&#34;des&#34;: &#34;test&#34;}]' -H &#34;Content-Type: application/json&#34; -X POST https://endpoint curl -i -d '{&#34;a&#34;:&#34;1&#34;,&#34;b&#34;:&#34;2&#34;}' -H &#34;Content-Type: application/json&#34; -X POST https://endpoint Database MySQL SHOW VARIABLES; SELECT FROM_UNIXTIME(1510289234); SELECT NOW(); SELECT UNIX_TIMESTAMP(); MongoDB mongod --dbpath ~/data/mongodb Zip / tar zip filename.zip file1 file2 tar -czvf name-of-archive.tar.gz /path/to/directory-or-file  -c: Create an archive. -z: Compress the archive with gzip. -v: Display progress in the terminal while creating the archive, also known as “verbose” mode."><meta name=twitter:site content="@https://twitter.com/kaichaosun"></head><body><nav class=main-nav><a href=https://kaichaosun.github.io/><span class=arrow>←</span>Home</a>
<a href=/about/>About</a>
<a class=cta href=#email-subscribe>Subscribe</a></nav><section id=wrapper><article class=post><header><h1>Cheatsheet for Common Usage CLI</h1><h2 class=subtitle></h2><h2 class=headline>January 2, 2019<br></h2></header><aside><nav id=TableOfContents><ul><li><a href=#curl-post-json>Curl Post JSON</a></li><li><a href=#database>Database</a><ul><li><a href=#mysql>MySQL</a></li><li><a href=#mongodb>MongoDB</a></li></ul></li><li><a href=#zip--tar>Zip / tar</a></li><li><a href=#cp>cp</a></li><li><a href=#ssh--scp>SSH / scp</a></li><li><a href=#docker>Docker</a></li><li><a href=#journalctl>Journalctl</a></li><li><a href=#generate-table-of-contents-for-markdown>Generate table of contents for markdown</a></li><li><a href=#calculate-lines-of-code-in-project>Calculate lines of code in project</a></li><li><a href=#docker-override-entrypoint>Docker override entrypoint</a></li><li><a href=#git>Git</a><ul><li><a href=#submodule>Submodule</a></li></ul></li><li><a href=#nodejs-npm-mirror>Nodejs npm mirror</a></li><li><a href=#rust-and-cargo>Rust and Cargo</a><ul><li><a href=#source>Source</a></li><li><a href=#cargo-expand>cargo expand</a></li></ul></li></ul></nav></aside><section id=post-body><h2 id=curl-post-json>Curl Post JSON</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>curl -i -d <span style=color:#e6db74>&#39;{&#34;id&#34;: &#34;111111&#34;,&#34;date&#34;: &#34;2018-04-27T00:00:00+10:00&#34;,&#34;des&#34;: &#34;test&#34;}]&#39;</span> -H <span style=color:#e6db74>&#34;Content-Type: application/json&#34;</span> -X POST https://endpoint

curl -i -d <span style=color:#e6db74>&#39;{&#34;a&#34;:&#34;1&#34;,&#34;b&#34;:&#34;2&#34;}&#39;</span> -H <span style=color:#e6db74>&#34;Content-Type: application/json&#34;</span> -X POST https://endpoint
</code></pre></div><h2 id=database>Database</h2><h3 id=mysql>MySQL</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>SHOW VARIABLES;

SELECT FROM_UNIXTIME<span style=color:#f92672>(</span>1510289234<span style=color:#f92672>)</span>;

SELECT NOW<span style=color:#f92672>(</span><span style=color:#f92672>)</span>;

SELECT UNIX_TIMESTAMP<span style=color:#f92672>(</span><span style=color:#f92672>)</span>;
</code></pre></div><h3 id=mongodb>MongoDB</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>mongod --dbpath ~/data/mongodb
</code></pre></div><h2 id=zip--tar>Zip / tar</h2><pre><code>zip filename.zip file1 file2
</code></pre><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>tar -czvf name-of-archive.tar.gz /path/to/directory-or-file
</code></pre></div><ul><li>-c: <strong>C</strong>reate an archive.</li><li>-z: Compress the archive with g<strong>z</strong>ip.</li><li>-v: Display progress in the terminal while creating the archive, also known as “<strong>v</strong>erbose” mode. The v is always optional in these commands, but it’s helpful.</li><li>-f: Allows you to specify the <strong>f</strong>ilename of the archive.</li></ul><pre><code>tar -xzvf archive.tar.gz
</code></pre><h2 id=cp>cp</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>rsync -av --progress /Users/kcsun/github/uiux/sourcefoder/ ./ --exclude .git
</code></pre></div><h2 id=ssh--scp>SSH / scp</h2><pre><code>// setup tunel
ssh -L 8002:target-host-ip:80 -i ~/.ssh/ssh-key hostname@host-ip

// from local to remote
scp /filename hostname@ip:~

// from remote to local
scp -i ~/.ssh/ssh-key root@host:~/hello ./
</code></pre><h2 id=docker>Docker</h2><pre><code>// docker download file
docker cp &lt;containerId&gt;:/file/path/within/container /host/path/target

// show sha256
docker inspect --format='{{index .RepoDigests 0}}' $IMAGE
</code></pre><h2 id=journalctl>Journalctl</h2><pre><code>// Display kernal message:
journalctl -k | grep -i -e memory -e oom
</code></pre><h2 id=generate-table-of-contents-for-markdown>Generate table of contents for markdown</h2><pre><code>gh-md-toc README.md
</code></pre><h2 id=calculate-lines-of-code-in-project>Calculate lines of code in project</h2><pre><code>find . -name '*.scala' | xargs wc -l
</code></pre><h2 id=docker-override-entrypoint>Docker override entrypoint</h2><pre><code>docker run -it --entrypoint /usr/bin/redis-cli example/redis
</code></pre><h2 id=git>Git</h2><p><strong>Reset local branch after force push:</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>git reset origin/master --hard
</code></pre></div><p><strong>Rebase to certain commit, like change commit msg:</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>git rebase -i commit-id // p to pick, r to change msg
</code></pre></div><p>** Delete branch with illegal name:**</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>git branch -D -- --track
</code></pre></div><h3 id=submodule>Submodule</h3><p>To remove a submodule</p><p><a href=https://gist.github.com/myusuf3/7f645819ded92bda6677>https://gist.github.com/myusuf3/7f645819ded92bda6677</a></p><pre><code>git submodule status
</code></pre><h2 id=nodejs-npm-mirror>Nodejs npm mirror</h2><pre><code>npm config set registry=http://registry.npm.taobao.org
</code></pre><h2 id=rust-and-cargo>Rust and Cargo</h2><h3 id=source>Source</h3><p>Configiure china source, modify the file <code>$HOME/.cargo/config</code></p><pre><code>[source.crates-io]
registry = &quot;https://github.com/rust-lang/crates.io-index&quot;
replace-with = 'ustc'
[source.ustc]
registry = &quot;git://mirrors.ustc.edu.cn/crates.io-index&quot;
</code></pre><h3 id=cargo-expand>cargo expand</h3><p><a href=https://github.com/dtolnay/cargo-expand>https://github.com/dtolnay/cargo-expand</a></p></section></article><footer id=post-meta class=clearfix><a href=https://twitter.com/kaichaosun><img class=avatar src=https://kaichaosun.github.io/images/avatar.png><div><span class=dark>Kaichao Sun</span>
<span>Mark it down</span></div></a><section id=sharing><a class=twitter href="https://twitter.com/intent/tweet?text=https%3a%2f%2fkaichaosun.github.io%2fpost%2fcommon-cli-cheatsheet%2f - Cheatsheet%20for%20Common%20Usage%20CLI by @kaichaosun"><span class=icon-twitter>tweet</span></a>
<a class=facebook href=# onclick="window.open('https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),'facebook-share-dialog','width=626,height=436');return false;"><span class=icon-facebook-rect>Share</span></a></section></footer><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"whisperd"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a><ul id=post-list class="archive readmore"><h3>Read more</h3><li><a href=/post/kusama_governance/>Kusama系列：如何进行链上治理<aside class=dates>Apr 16 2020</aside></a></li><li><a href=/post/substrate_node_template_guide/>Substrate代码导读：node-template<aside class=dates>Apr 2 2020</aside></a></li><li><a href=/post/trie/>理解Substrate数据存储的底层实现Merkle Patricia Trie<aside class=dates>Mar 17 2020</aside></a></li><li><a href=/post/substrate_transaction_weight_and_fees/>Substrate 区块链应用的交易费用设计<aside class=dates>Feb 21 2020</aside></a></li><li><a href=/post/substrate_storage_data_type/>Substrate存储数据类型概览<aside class=dates>Jan 19 2020</aside></a></li><li><a href=/post/coin_flip_test_and_ui/>抛硬币游戏(二)：编写测试和UI<aside class=dates>Oct 3 2019</aside></a></li><li><a href=/post/substrate_coin_flip/>Substrate应用 - 抛硬币游戏(一)<aside class=dates>Aug 5 2019</aside></a></li><li><a href=/post/substrate_blockchain_setup/>使用Substrate搭建你的第一条区块链<aside class=dates>May 28 2019</aside></a></li><li><a href=/post/why_oo_sucks/>Why OO Sucks<aside class=dates>Apr 25 2019</aside></a></li><li><a href=/post/solidity-basics/>理解Ethereum智能合约开发<aside class=dates>Apr 11 2019</aside></a></li></ul><footer id=footer><div id=social><a class=symbol href=https://github.com/kaichaosun><i class="fa fa-github"></i></a><a class=symbol href=https://twitter.com/kaichaosun><i class="fa fa-twitter"></i></a></div><p class=small>© Copyright 2020 Kaichao Sun</p></footer></section><script src=//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js></script><script src=https://kaichaosun.github.io/js/main.js></script><script src=https://kaichaosun.github.io/js/highlight.js></script><script src=https://kaichaosun.github.io/js/fix-toc.js></script><script>hljs.initHighlightingOnLoad();</script><script data-ad-client=ca-pub-2513693433628672 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-128168145-1','auto');ga('send','pageview');}</script></body></html>